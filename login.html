<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width-device-width, initial-scale=1.0">
	<title>Login</title>
	<!--googlefont-->
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

	
    <!-- FAVICON -->
    <link rel="icon" type="image/png" href="images/download.png">

	<!--library-->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!--LINK FOR CSS-->
	<link rel="stylesheet" href="css/login.css">


	<!--BOX ICONS-->
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>
<body>
<!--Preloader-->
<div id="preloader">
</div>
<!--Preloader-->
	<!--HEADER-->
	<header>
		<!--NAV-->
		<div class="nav-container">
                <a class="navbar-brand" href="index.html">
                    <img decoding="async" src="images/logo1.png" class="img-fluid" alt="logo" style="width: 100px; height: 100px; padding: 0%;">
                </a>
			<a href="index.html" class="logo">Home</a>
    	</div>
	</header>

<div class="container" id="container">
<!--sign up-->
	<div class="form sign-up-container">
		<form action="signup.php" method="POST">
			<h1>Create Account</h1>
			
			<span>Enter your details here...</span>
			
			<!--input-field-->
			<div class="input-field">
				<i class="fa fa-user"></i>
				<input type="text" placeholder="username" id="username" name="username">
			</div>

			<div class="input-field">
				<i class="fa fa-envelope"></i>
				<input type="email" placeholder="Email" id="email" name="email">
			</div>

			<div class="input-field">
				<i class="fa fa-lock"></i>
				<input type="password" placeholder="Password" id="password" name="password">
			</div>
			<div class="input-field">
				<i class="fa fa-home"></i>
				<input type="text" placeholder="Address" id="address" name="address">
			</div>
			<div class="input-field">
				<i class="fa fa-home"></i>
				<input type="text" placeholder="contact" id="contact" name="contact">
			</div>
			<!--input-field-->

			<button>Sign Up</button>


		</form>
	</div>
	<!--sign-up-->

	<!--sign in-->
	<div class="form sign-in-container">
		<form action="login.php" method="POST">
			<h1>Login</h1>
			<span>Enter your valid login credentials</span>
			
			<!--input-field-->
			<div class="input-field">
				<i class="fa fa-user"></i>
				<input type="text" placeholder="username" name="username">
			</div>

			<div class="input-field">
				<i class="fa fa-lock"></i>
				<input type="password" placeholder="Password" name="password">
			</div>
			<!--input-field-->

			<button>Sign In</button>

			<div>
    			<!-- Use a link to trigger the log-out process -->
    			<a href="signout.php?logout=true" class="sign-out">Sign Out</a>
			</div>

			

		</form>
	</div>

	<!--sign in-->


	<!--overlay-->
	<div class="overlay-container">
		<div class="overlay">
			<div class="overlay-panel overlay-left">
				<h1>Welcome Back!</h1>
				<p>To keep connected with us please login with your personal information</p>
				<img src="images/logo1.png" style="height: 20rem; width: 30rem; padding-top: 5%; padding-bottom: 5%;">
				<button class="btn" id="signIn">Sign In</button>
			</div>
			<div class="overlay-panel overlay-right">
				<h1>Hello User!</h1>
				<p>Enter Your personal details and start your journey with us</p>
				<img src="images/logo1.png" style="height: 20rem; width: 30rem;padding-bottom: 5%;">
				<button class="btn" id="signUp">Sign Up</button>
			</div>
		</div>
	</div>
	<!--overlay-->
</div>
	
	<!--JAVASCRIPT-->

<script>

const signUpButton = document.getElementById('signUp');
const signInButton = document.getElementById('signIn');
const container = document.getElementById('container');	

signUpButton.addEventListener('click',() =>{
	container.classList.add("right-panel-active");
	});

signInButton.addEventListener('click',() =>{
	container.classList.remove("right-panel-active");
	});

</script>
<script>
	var loader = document.getElementById("preloader");
	window.addEventListener("load", function() {
		loader.style.display = "none"
	})
</script>

<script>
// Check if the user is redirected from the login page
const urlParams = new URLSearchParams(window.location.search);
const isRedirected = urlParams.get('fromLogin');

// If redirected from the login page, show an alert
if (isRedirected === 'true') {
    alert('Login successful! Welcome.');
} else {
    alert('No redirection or parameter');
}

// Check if the session is set
const userId = <?php echo isset($_SESSION["user_id"]) ? $_SESSION["user_id"] : "Session not set"; ?>;
alert('User ID from session: ' + userId);

</script>

</body>
</html>